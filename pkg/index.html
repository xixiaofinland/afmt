<!DOCTYPE html>
<html>
<head>
    <title>WASM Test</title>
</head>
<body>
    <h2>WebAssembly Test</h2>
    <div id="status">WASM Status: Loading...</div>
    <div id="greeting">Greeting will appear here</div>

    <script>
        // Initialize the WASM module
        async function init() {
            try {
                const wasm = await import('./afmt.js');
                await wasm.default();

                // Update status to show WASM loaded
                document.getElementById('status').textContent = 'WASM Status: Loaded Successfully!';

                // Call greet() and show the result
                const greeting = wasm.greet();
                document.getElementById('greeting').textContent = `Greeting from WASM: ${greeting}`;

                console.log('WASM module loaded successfully');
            } catch (error) {
                document.getElementById('status').textContent = 'WASM Status: Failed to Load';
                console.error('Failed to load WASM module:', error);
            }
        }

        init();
    </script>
</body>
</html>
